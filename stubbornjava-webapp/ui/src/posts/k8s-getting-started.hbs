
https://kubernetes.io/docs/tasks/tools/install-minikube/
- `brew install hyperkit`

- `brew install minikube`
- `minikube start`
  - This should auto detect hyperkit
- `minikube status` confirm we are up

- `kubectl apply -f stubbornjava.yaml`
- `kubectl get deployments`
NAME                      READY   UP-TO-DATE   AVAILABLE   AGE
stubbornjava-deployment   0/2     2            0           12m

- `kubectl get pods`
NAME                                       READY   STATUS             RESTARTS   AGE
stubbornjava-deployment-7b96c7d8db-9gb7w   0/1     ImagePullBackOff   0          13m
stubbornjava-deployment-7b96c7d8db-nx6q7   0/1     ImagePullBackOff   0          13m

- oops we forgot to auth with github

- `kubectl create secret docker-registry ghregistry --docker-server=containers.pkg.github.com --docker-username=stubbornjava-ops --docker-password=$GITHUB_TOKEN --docker-email=bill@dartalley.com`

`kubectl get pods`
NAME                                       READY   STATUS    RESTARTS   AGE
stubbornjava-deployment-65975ff898-6wg4z   1/1     Running   0          18s
stubbornjava-deployment-65975ff898-lkkfp   1/1     Running   0          18s

`kubectl port-forward stubbornjava-deployment-65975ff898-6wg4z 8080:8080`
Forwarding from 127.0.0.1:8080 -> 8080
Forwarding from [::1]:8080 -> 8080
Handling connection for 8080
Handling connection for 8080

Now we can hit it

`kubectl exec -it stubbornjava-deployment-65975ff898-6wg4z -- /bin/sh`
ssh in

https://kubernetes.io/docs/tasks/configure-pod-container/pull-image-private-registry/#create-a-secret-by-providing-credentials-on-the-command-line

https://kubernetes.io/docs/reference/kubectl/cheatsheet/


https://microk8s.io/docs/working-with-kubectl#heading--kubectl-macos


https://rancher.com/docs/k3s/latest/en/installation/install-options/

https://jyeee.medium.com/kubernetes-on-your-macos-laptop-with-multipass-k3s-and-rancher-2-4-6e9cbf013f58


curl -sLS https://get.k3s.io | INSTALL_K3S_EXEC='server --tls-san 54.84.224.246 --write-kubeconfig-mode "0644"' sh -


https://medium.com/google-cloud/kubernetes-nodeport-vs-loadbalancer-vs-ingress-when-should-i-use-what-922f010849e0


kubectl create secret docker-registry ghregistry --docker-server=containers.pkg.github.com --docker-username=stubbornjava-ops --docker-password=$GITHUB_TOKEN --docker-email=bill@dartalley.com

kubectl create secret generic githubcreds \
 --from-literal=github.client_id=??? \
 --from-literal=github.client_secret=???